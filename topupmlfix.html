<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mobile Legends Top-Up</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
      /* Existing styles remain unchanged */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, sans-serif;
      }

      body {
        background-color: #121212;
        color: white;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 15px;
      }

      /* Banner */
      .banner {
        margin: 20px 0;
        border-radius: 10px;
        overflow: hidden;
      }

      .banner img {
        width: 100%;
        height: auto;
      }

      /* Main Content */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 20px;
        margin-bottom: 20px;
      }

      /* Sections */
      .section {
        background-color: #1a1a1a;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
      }

      .section-title {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
      }

      .section-title .circle {
        width: 24px;
        height: 24px;
        background-color: #ff6600;
        border-radius: 50%;
        margin-right: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      }

      .section h2 {
        font-size: 16px;
        text-transform: uppercase;
      }

      .user-icon {
        margin-left: 15px;
        background-color: #333;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Game Info */
      .game-info {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .game-image {
        width: 100%;
        margin-bottom: 15px;
      }

      .game-title {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .rating {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
      }

      .star {
        color: #ff6600;
        margin-left: 5px;
      }

      .reviews {
        margin-top: 15px;
        width: 100%;
      }

      .review {
        background-color: #252525;
        padding: 10px;
        border-radius: 5px;
        margin-bottom: 10px;
      }

      .stars {
        color: #ff6600;
        margin-bottom: 5px;
      }

      /* Form Fields */
      .form-group {
        margin-bottom: 15px;
      }

      .form-row {
        display: flex;
        gap: 15px;
      }

      .form-control {
        width: 100%;
        padding: 12px;
        background-color: #252525;
        border: none;
        border-radius: 5px;
        color: white;
      }

      .form-info {
        font-size: 12px;
        color: #aaa;
        margin-top: 10px;
      }

      /* Product Grid - Updated to match image */
      .product-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 10px;
      }

      /* Updated Product Item Style */
      .product-item {
        background-color: #252525;
        border-radius: 5px;
        padding: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        border: 1px solid transparent;
      }

      .product-item.selected {
        background-color: #252525;
        border: 1px solid #ff6600;
      }

      .product-info {
        display: flex;
        flex-direction: column;
      }

      .product-name {
        font-size: 12px;
        margin-bottom: 5px;
      }

      .product-price {
        color: #ff6600;
        font-size: 12px;
      }

      .product-icon {
        width: 24px;
        height: 24px;
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
      }

      /* Payment Methods */
      .payment-method {
        background-color: #252525;
        border-radius: 5px;
        padding: 15px;
        margin-bottom: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        border: 1px solid transparent;
        transition: all 0.3s ease;
      }

      .payment-method.selected {
        border: 1px solid #ff6600;
      }

      .payment-logo {
        display: flex;
        align-items: center;
      }

      .payment-logo img {
        height: 24px;
        margin-right: 10px;
      }

      .payment-info {
        font-size: 12px;
        color: #aaa;
      }

      .payment-radio {
        display: flex;
        align-items: center;
      }

      .payment-amount {
        font-weight: bold;
      }

      /* Bank Dropdown */
      .bank-dropdown {
        width: 100%;
        padding: 12px;
        background-color: #252525;
        border: none;
        border-radius: 5px;
        color: white;
        margin-bottom: 15px;
      }

      .bank-dropdown option {
        background-color: #252525;
        color: white;
      }

      /* Order Button */
      .order-button {
        background-color: #ff6600;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 15px;
        width: 100%;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .order-button i {
        margin-right: 10px;
      }

      /* Error popup */
      .error-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #ff6600;
        padding: 20px;
        border-radius: 10px;
        z-index: 1000;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        display: none;
        max-width: 80%;
        text-align: center;
      }

      .error-popup h3 {
        margin-bottom: 10px;
        font-size: 18px;
      }

      .error-popup p {
        margin-bottom: 15px;
      }

      .error-close {
        background-color: white;
        color: #ff6600;
        border: none;
        padding: 8px 16px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
      }

      /* Overlay for popup */
      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 999;
        display: none;
      }
    </style>
  </head>
  <body>

<!-- Header Navigation -->
    <header>
      <div class="container">
          <div class="logo">
            <a href="index.html">
              <img src="Element/LOGOWSA.PNG" alt="WSA Logo" class="logo-img">
            </a>
          </div>
          <nav>
              <ul>
                  <li><a href="index.html">Dashboard</a></li>
                  <li><a href="leaderboard.html">Leaderboard</a></li>
                  <li><a href="riwayat-page.html">Riwayat</a></li>
                  <li><a href="kalkulator-page.html">Kalkulator</a></li>
              </ul>
          </nav>
          <div class="search-profile">
              <div class="search-bar">
                  <input type="text" id="searchInput" placeholder="Cari Games...">
                  <ul id="searchResults"></ul>
              </div>
              <div class="profile">
                  <img src="Element/Icon/Profile.png" alt="Profile" class="profile-img" id="profileToggle" onclick="toggleDropdown()">
                  <div class="dropdown-menu" id="profileDropdown">
                    <a href="profil.html">Profil</a>
                    <a href="logout.php">Keluar</a>
              </div>
          </div>
      </div>
    </header>

    <div class="container">
      <div class="banner">
        <img src="Assets/bannerml.png" alt="Mobile Legends Banner" />
      </div>

      <div class="main-content">
        <div>
          <div class="section">
            <div class="section-title">
              <div class="circle"></div>
              <h2>TOPUP</h2>
            </div>
            <div class="game-info">
              <img class="game-image" src="Assets/MLkecil.png" alt="Mobile Legends" />
              <div class="game-title">Mobile Legends Bang Bang</div>
              <div class="rating">5.0 <span class="star">★</span></div>
              <div>Ulasan</div>
              <div class="reviews">
                <div class="review">
                  <div>Si A</div>
                  <div class="stars">★★★★★</div>
                  <div>Proses Cepat</div>
                </div>
                <div class="review">
                  <div>Si B</div>
                  <div class="stars">★★★★★</div>
                  <div>Mantap Banget</div>
                </div>
                <div class="review">
                  <div>Si C</div>
                  <div class="stars">★★★★★</div>
                  <div>Murah Banget!!!</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div>
          <div class="section">
            <div class="section-title">
              <div class="circle"></div>
              <h2>MASUKKAN ID PENGGUNA</h2>
            </div>
            <div class="form-group">
              <div class="form-row">
                <div style="flex: 1">
                  <label>ID Pengguna</label>
                  <input
                    id="user-id"
                    type="number"
                    class="form-control"
                    placeholder="Masukkan ID Pengguna"
                    inputmode="numeric"
                    pattern="[0-9]*"
                    onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                  />
                </div>
                <div style="flex: 1">
                  <label>ID Server</label>
                  <input
                    id="user-id
                    type="number"
                    class="form-control"
                    placeholder="Masukkan ID Server"
                    inputmode="numeric"
                    pattern="[0-9]*"
                    onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                  />
                </div>
              </div>
            </div>
            <div class="form-info">
              Untuk menemukan ID Pengguna dan ID Server Anda, klik avatar Anda di pojok kiri
              atas layar dan buka tab Info Umum. ID Pengguna dan ID Server Anda akan
              ditampilkan di bawah Nickname Anda. Silakan masukkan ID Pengguna dan ID Server
              lengkap di sini, misal: 12345678 (1234).
            </div>
          </div>

          <div class="section">
            <div class="section-title">
              <div class="circle"></div>
              <h2>PILIH PRODUK</h2>
            </div>
            <div class="product-grid">
              <!-- Row 1 -->
              <div class="product-item" onclick="selectProduct(this, '86 Diamond', 20000)" data-price="20000">
                <div class="product-info">
                  <div class="product-name">86 Diamond</div>
                  <div class="product-price">Rp. 20.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
              <div class="product-item" onclick="selectProduct(this, '172 Diamond', 40000)" data-price="40000">
                <div class="product-info">
                  <div class="product-name">172 Diamond</div>
                  <div class="product-price">Rp. 40.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
              <div class="product-item" onclick="selectProduct(this, '257 Diamond', 60000)" data-price="60000">
                <div class="product-info">
                  <div class="product-name">257 Diamond</div>
                  <div class="product-price">Rp. 60.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
              <div class="product-item" onclick="selectProduct(this, '344 Diamond', 80000)" data-price="80000">
                <div class="product-info">
                  <div class="product-name">344 Diamond</div>
                  <div class="product-price">Rp. 80.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
              <div class="product-item" onclick="selectProduct(this, '429 Diamond', 100000)" data-price="100000">
                <div class="product-info">
                  <div class="product-name">429 Diamond</div>
                  <div class="product-price">Rp. 100.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>

              <!-- Row 2 -->
              <div class="product-item" onclick="selectProduct(this, '514 Diamond', 120000)" data-price="120000">
                <div class="product-info">
                  <div class="product-name">514 Diamond</div>
                  <div class="product-price">Rp. 120.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
              <div class="product-item" onclick="selectProduct(this, '600 Diamond', 140000)" data-price="140000">
                <div class="product-info">
                  <div class="product-name">600 Diamond</div>
                  <div class="product-price">Rp. 140.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
              <div class="product-item" onclick="selectProduct(this, '706 Diamond', 160000)" data-price="160000">
                <div class="product-info">
                  <div class="product-name">706 Diamond</div>
                  <div class="product-price">Rp. 160.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
              <div class="product-item" onclick="selectProduct(this, '878 Diamond', 200000)" data-price="200000">
                <div class="product-info">
                  <div class="product-name">878 Diamond</div>
                  <div class="product-price">Rp. 200.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
              <div class="product-item" onclick="selectProduct(this, '963 Diamond', 220000)" data-price="220000">
                <div class="product-info">
                  <div class="product-name">963 Diamond</div>
                  <div class="product-price">Rp. 220.000</div>
                </div>
                <img class="product-icon" src="Assets/diamond.png" alt="Diamond" />
              </div>
            </div>
          </div>

          <div class="section">
            <div class="section-title">
              <div class="circle"></div>
              <h2>PILIH METODE PEMBAYARAN</h2>
            </div>
            <div class="payment-method" onclick="selectPaymentMethod(this, 'qris')">
              <div class="payment-logo">
                <input type="radio" name="payment" />
                <img src="Assets/qris.png" alt="QRIS" />
                <div>QRIS (Satu Kode QR untuk Semua)</div>
              </div>
              <div class="payment-amount">Rp. <span class="payment-price">0</span></div>
            </div>            
            <!-- Display all bank options directly -->
            <div id="bank-options">
              <div class="payment-method bank-option" onclick="selectPaymentMethod(this, 'bri')">
                <div class="payment-logo">
                  <input type="radio" name="payment" />
                  <img src="Assets/bri.png" alt="BRI" />
                  <div class="payment-info">Pembayaran Melalui Bank BRI</div>
                </div>
                <div class="payment-amount">Rp. <span class="bank-price">0</span></div>
              </div>

              <div class="payment-method bank-option" onclick="selectPaymentMethod(this, 'bni')">
                <div class="payment-logo">
                  <input type="radio" name="payment" />
                  <img src="Assets/bni.png" alt="BNI" />
                  <div class="payment-info">Pembayaran Melalui Bank BNI</div>
                </div>
                <div class="payment-amount">Rp. <span class="bank-price">0</span></div>
              </div>

              <div class="payment-method bank-option" onclick="selectPaymentMethod(this, 'mandiri')">
                <div class="payment-logo">
                  <input type="radio" name="payment" />
                  <img src="Assets/mandiri.png" alt="Mandiri" />
                  <div class="payment-info">Pembayaran Melalui Bank MANDIRI</div>
                </div>
                <div class="payment-amount">Rp. <span class="bank-price">0</span></div>
              </div>

              <div class="payment-method bank-option" onclick="selectPaymentMethod(this, 'bca')">
                <div class="payment-logo">
                  <input type="radio" name="payment" />
                  <img src="Assets/bca.png" alt="BCA" />
                  <div class="payment-info">Pembayaran Melalui Bank BCA</div>
                </div>
                <div class="payment-amount">Rp. <span class="bank-price">0</span></div>
              </div>
            </div>
          </div>

          <button class="order-button" onclick="validateOrder()">
            <i class="fas fa-shopping-cart"></i>
            
            Pesan Sekarang
          </button>
        </div>
      </div>
    </div>

    <!-- Error Popup -->
    <div class="overlay" id="overlay"></div>
    <div class="error-popup" id="error-popup">
      <h3>Perhatian!</h3>
      <p id="error-message"></p>
      <button class="error-close" onclick="closeErrorPopup()">OK</button>
    </div>

    <!-- Footer (Updated to match styles.css) -->
    <footer>
        <div class="container">
          © 2025 WSA TOPUP | Solusi Isi Ulang Terpercaya
        </div>
    </footer>

    <script>
      // Function to handle product selection
      function selectProduct(element, productName, price) {
        // Remove selected class from all products
        var allProducts = document.querySelectorAll('.product-item');
        allProducts.forEach(function(item) {
          item.classList.remove('selected');
        });
        
        // Add selected class to clicked product
        element.classList.add('selected');
        
        // Format price with thousand separators
        function formatPrice(num) {
          return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }
        
        // Update price in payment methods
        var paymentPrices = document.querySelectorAll('.payment-price');
        paymentPrices.forEach(function(item) {
          item.textContent = formatPrice(price);
        });
        
        // Update all bank prices
        var bankPrices = document.querySelectorAll('.bank-price');
        bankPrices.forEach(function(item) {
          item.textContent = formatPrice(price);
        });
        
        // Store selected product info for later use
        sessionStorage.setItem('selectedProduct', productName);
        sessionStorage.setItem('selectedPrice', price);
      }

      // Function to handle payment method selection
      function selectPaymentMethod(element, method) {
        // Remove selected class from all payment methods
        var allPaymentMethods = document.querySelectorAll('.payment-method');
        allPaymentMethods.forEach(function(item) {
          item.classList.remove('selected');
        });
        
        // Add selected class to clicked payment method
        element.classList.add('selected');
        
        // Check the radio button
        var radioButton = element.querySelector('input[type="radio"]');
        if (radioButton) {
          radioButton.checked = true;
        }
        
        // Store selected payment method for later use
        sessionStorage.setItem('selectedPaymentMethod', method);
      }

      // Function to validate form before proceeding to payment page
      function validateOrder() {
        // Get values
        var userId = document.getElementById('user-id').value;
        var selectedProduct = document.querySelector('.product-item.selected');
        var selectedPayment = document.querySelector('.payment-method.selected');
        
        // Validate
        if (!userId || userId.trim() === '') {
          showErrorPopup('ID Pengguna atau ID Server belum diisi. Silakan masukkan ID Pengguna atau ID Server Anda.');
          return false;
        }
        
        if (!selectedProduct) {
          showErrorPopup('Diamond belum dipilih. Silakan pilih jumlah Point yang ingin dibeli.');
          return false;
        }
        
        if (!selectedPayment) {
          showErrorPopup('Metode pembayaran belum dipilih. Silakan pilih salah satu metode pembayaran.');
          return false;
        }
        
        // If all validations pass, proceed to payment page
        window.location.href = 'pembayaranmlfix.html';
      }

      // Function to show error popup
      function showErrorPopup(message) {
        document.getElementById('error-message').textContent = message;
        document.getElementById('error-popup').style.display = 'block';
        document.getElementById('overlay').style.display = 'block';
      }

      // Function to close error popup
      function closeErrorPopup() {
        document.getElementById('error-popup').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
      }

      // Auto-select the first product option on page load
      window.onload = function() {
        // Get the first product item
        var firstProduct = document.querySelector('.product-item');
        if (firstProduct) {
          // Get product info from the first item
          var productName = firstProduct.querySelector('.product-name').textContent;
          var price = firstProduct.getAttribute('data-price');
          
          // Select it
          selectProduct(firstProduct, productName, parseInt(price));
        }
      };
    </script>
  </body>
</html>